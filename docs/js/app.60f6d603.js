(function(e){function t(t){for(var r,s,c=t[0],o=t[1],u=t[2],m=0,p=[];m<c.length;m++)s=c[m],a[s]&&p.push(a[s][0]),a[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0b48":function(e,t,n){"use strict";var r=n("0cf2"),a=n.n(r);a.a},"0cf2":function(e,t,n){},"241d":function(e,t,n){"use strict";var r=n("de21"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("a481"),n("ac6a");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=n("2877"),c={},o=Object(s["a"])(c,a,i,!1,null,null,null),u=o.exports,l=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{view:"lHh Lpr lFf"}},[n("q-layout-header",[n("q-toolbar",{attrs:{color:"primary",glossy:"mat"===e.$q.theme,inverted:"ios"===e.$q.theme}},[n("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),n("q-toolbar-title",[e._v("\n        Nethereum-CodeGenerator\n        "),n("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Running on Quasar Framework v"+e._s(e.$q.version))])])],1)],1),n("q-layout-drawer",{attrs:{"content-class":"mat"===e.$q.theme?"bg-grey-2":null},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[n("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[n("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[n("q-item",{attrs:{to:"/"}},[n("q-item-side",{attrs:{icon:"home"}}),n("q-item-main",{attrs:{label:"Home"}})],1),n("q-item",{attrs:{to:"/generate"}},[n("q-item-side",{attrs:{icon:"settings"}}),n("q-item-main",{attrs:{label:"Generate"}})],1),n("q-item",{attrs:{to:"/about"}},[n("q-item-side",{attrs:{icon:"info"}}),n("q-item-main",{attrs:{label:"About"}})],1)],1)],1)],1),n("q-page-container",[n("router-view")],1)],1)},p=[],g=n("e083"),f={name:"LayoutDefault",data(){return{leftDrawerOpen:this.$q.platform.is.desktop}},methods:{openURL:g["b"]}},d=f,h=Object(s["a"])(d,m,p,!1,null,null,null),b=h.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"flex flex-center"},[n("div",{staticClass:"row"},[n("p",[e._v("Nethereum Generator which creates a C# Interface and Implementation based on Solidity Smart Contracts.")])])])},v=[],_={},C=Object(s["a"])(_,y,v,!1,null,null,null),F=C.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[n("p",[n("b",[e._v("Nethereum-CodeGenerator")])]),n("br"),n("p",[e._v("Used NPMs")]),n("ul",[n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/solcjs-lightweight"}},[e._v("solcjs-lightweight")])]),n("li",[n("a",{attrs:{href:"https://ejs.co/"}},[e._v("ejs")])])]),n("br"),n("br"),n("br"),e._v("\n  GitHub page: "),n("a",{attrs:{href:"https://github.com/StefH/Nethereum-CodeGenerator"}},[e._v("Nethereum-CodeGenerator")])])},I=[],x={name:"PageAbout"},w=x,O=Object(s["a"])(w,T,I,!1,null,null,null),N=O.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[n("p",[n("b",[e._v("Generate C# Interfaces and Classes")])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("p",{staticClass:"caption"},[e._v("Main Solidity Contract")])]),n("div",{staticClass:"col-3"},[n("q-uploader",{ref:"uploaderMain",attrs:{"hide-upload-button":"","hide-upload-progress":"",url:"","upload-factory":e.uploadMainContract}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("p",{staticClass:"caption"},[e._v("Imported Solidity Contract(s)")])]),n("div",{staticClass:"col-3"},[n("q-uploader",{ref:"uploaderOther",attrs:{multiple:"",batch:"","hide-upload-button":"","hide-upload-progress":"",url:"","upload-factory":e.uploadContracts},on:{finish:e.uploadContractsFinish}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("p",{staticClass:"caption"},[e._v("Compiler Version")])]),n("div",{staticClass:"col-2"},[n("q-select",{attrs:{options:e.selectCompilers},model:{value:e.selectedCompiler,callback:function(t){e.selectedCompiler=t},expression:"selectedCompiler"}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("p",{staticClass:"caption"},[e._v("Namespace")])]),n("div",{staticClass:"col-2"},[n("q-input",{model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("q-btn",{attrs:{label:"Generate",disabled:e.busy},on:{click:e.OnClickGenerate}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("br"),n("br"),n("p",{directives:[{name:"show",rawName:"v-show",value:e.busy,expression:"busy"}]},[e._v("Compiling contracts and generating C# Interface and Service...")]),n("br"),n("br"),n("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMesssage,expression:"errorMesssage"}],staticClass:"error"},[e._v("Error : "+e._s(e.errorMesssage))])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("q-input",{staticClass:"csharp-code",attrs:{readonly:"",type:"textarea","float-label":"Generated C# Interface","max-height":150,rows:"8"},model:{value:e.generatedInterfaceText,callback:function(t){e.generatedInterfaceText=t},expression:"generatedInterfaceText"}})],1),n("div",{staticClass:"col-2"},[n("q-btn",{attrs:{label:"Download",disabled:e.downloadInterfaceDisabled},on:{click:e.DownloadInterface}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("br"),n("br"),n("br")])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("q-input",{staticClass:"csharp-code",attrs:{readonly:"",type:"textarea","float-label":"Generated C# Service","max-height":150,rows:"8"},model:{value:e.generatedServiceText,callback:function(t){e.generatedServiceText=t},expression:"generatedServiceText"}})],1),n("div",{staticClass:"col-2"},[n("q-btn",{attrs:{label:"Download",disabled:e.downloadServiceDisabled},on:{click:e.DownloadService}})],1)])])},A=[],k=n("1da1"),G=n("21a6"),S=(n("28a5"),"using System;\r\nusing System.Numerics;\r\nusing System.Threading;\r\nusing System.Threading.Tasks;\r\nusing Nethereum.Contracts;\r\nusing Nethereum.ABI.FunctionEncoding.Attributes;\r\nusing Nethereum.Hex.HexTypes;\r\nusing Nethereum.RPC.Eth.DTOs;\r\nusing Nethereum.Web3;\r\n\r\n// Created with 'Nethereum-CodeGenerator' https://github.com/StefH/Nethereum-CodeGenerator by stef.heyenrath@mstack.nl (mStack B.V.)\r\n// Based on abi-code-gen (https://github.com/Nethereum/abi-code-gen)\r\nnamespace <%= locals.namespace ? namespace : 'DefaultNamespace' %>\r\n{\r\n    public class <%= capitalizeFirstLetter(getContractName()) %>Service : I<%= capitalizeFirstLetter(getContractName()) %>Service\r\n    {\r\n        public static string ABI = @\"<%- abiToText(abi) %>\";\r\n\r\n        public static string ByteCode = \"0x<%-bytecode%>\";\r\n\r\n        public static async Task<string> DeployContractAsync(Web3 web3, string addressFrom, <%-generateConstructorInputParameters(abi)%> CancellationTokenSource token = null, HexBigInteger gas = null)\r\n        {\r\n            if (gas == null)\r\n            {\r\n                BigInteger estimatedGas = await web3.Eth.DeployContract.EstimateGasAsync(ABI, ByteCode, addressFrom).ConfigureAwait(false);\r\n                gas = new HexBigInteger(estimatedGas);\r\n            }\r\n\r\n            var transactionReceipt = await web3.Eth.DeployContract.SendRequestAndWaitForReceiptAsync(ABI, ByteCode, addressFrom, gas, token<%-generateConstructorParameters(abi)%>).ConfigureAwait(false);\r\n            return transactionReceipt.ContractAddress;\r\n        }\r\n\r\n        private readonly Web3 _web3;\r\n        private readonly Contract _contract;\r\n\r\n        public <%= capitalizeFirstLetter(getContractName()) %>Service(Web3 web3, string address)\r\n        {\r\n            _web3 = web3;\r\n            _contract = _web3.Eth.GetContract(ABI, address);\r\n        }\r\n\r\n        public async Task<TransactionReceipt> ExecuteTransactionAsync(Func<I<%= capitalizeFirstLetter(getContractName()) %>Service, Task<string>> func, int timeoutInSeconds)\r\n        {\r\n            var cts = new CancellationTokenSource(TimeSpan.FromSeconds(timeoutInSeconds));\r\n\r\n            string transaction = await func(this);\r\n            var receipt = await _web3.Eth.Transactions.GetTransactionReceipt.SendRequestAsync(transaction).ConfigureAwait(false);\r\n\r\n            while (receipt == null && !cts.IsCancellationRequested)\r\n            {\r\n                await Task.Delay(500);\r\n                receipt = await _web3.Eth.Transactions.GetTransactionReceipt.SendRequestAsync(transaction).ConfigureAwait(false);\r\n            }\r\n\r\n            return receipt;\r\n        }\r\n\r\n        public Task<BlockWithTransactions> GetBlockWithTransactionsAsync(string blockhash)\r\n        {\r\n            return _web3.Eth.Blocks.GetBlockWithTransactionsByHash.SendRequestAsync(blockhash);\r\n        }\r\n\r\n<%= abi.forEach(generateGetFunction) %>\r\n<%= abi.forEach(generateGetEvent) %>\r\n<%= abi.forEach(generateFunctionCall) %>\r\n<%= abi.forEach(generateFunctionTransaction) %>\r\n<%= abi.forEach(generateFunctionCallMultipleOutputsDTO) %>\r\n\r\n    }\r\n\r\n<%= abi.forEach(generateFunctionOutputDTO) %>\r\n<%= abi.forEach(generateEventDTO) %>\r\n}\r\n<%_\r\nfunction getContractName() {\r\n   return locals._contractName ? locals._contractName : 'DefaultContractName';\r\n}\r\n\r\nfunction capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction abiToText(abi) {\r\n    return JSON.stringify(abi).split('\\\"').join('\\\"\\\"');\r\n}\r\n\r\nfunction getGenericReturnType(item) {\r\n    var returnType = getReturnType(item);\r\n    return item === null ? '' : '<' + returnType + '>';\r\n}\r\n\r\nfunction generateFunctionInputParameters(item) {\r\n    var params = '';\r\n    if (item.inputs !== null && item.inputs.length > 0) {\r\n        \r\n        item.inputs.forEach( function(input, index) {\r\n            var prefix = ', ';\r\n            if (params === '') {\r\n                prefix = '';\r\n            }\r\n            params = params + prefix + getTypeMap(input.type) + ' ' + getParamName(input.name, index);\r\n        })\r\n    } \r\n    return params;\r\n}\r\n\r\nfunction getParamName(param, index) {\r\n    if (param !== '') {\r\n        return param;\r\n    }\r\n\r\n    switch (index) {\r\n        case 0:\r\n            return 'a';\r\n        case 1:\r\n            return 'b';\r\n        case 2:\r\n            return 'c';\r\n        case 3:\r\n            return 'd';\r\n        case 4:\r\n            return 'e';\r\n        case 5:\r\n            return 'f';\r\n        case 6:\r\n            return 'g';\r\n    }\r\n    return 'h';\r\n}\r\n\r\nfunction generateFunctionTransactionInputParameters(item) {\r\n    var params = generateFunctionInputParameters(item);\r\n\r\n    return params !== '' ? params + ',' : params;\r\n}\r\n\r\nfunction generateConstructorInputParameters(abi) {\r\n    var ret = '';\r\n    abi.forEach(function(item) {\r\n        if (item.type === 'constructor') {\r\n            ret = generateFunctionTransactionInputParameters(item);\r\n        }\r\n    });\r\n    return ret;\r\n}\r\n\r\nfunction generateConstructorParameters(abi) {\r\n    var ret = '';\r\n    abi.forEach( function(item) {\r\n        if (item.type === 'constructor') {\r\n            ret = generateFunctionParametersCommaPrefix(item);\r\n        }\r\n    });\r\n    return ret;\r\n}\r\n\r\nfunction generateFunctionParametersCommaPrefix(item) {\r\n    var ret = generateFunctionParameters(item);\r\n    return ret !== '' ? ', ' + ret : ret;\r\n}\r\n\r\nfunction generateFunctionParameters(item) {\r\n    var params = '';\r\n    if (item.inputs !== null && item.inputs.length > 0) {\r\n        \r\n        item.inputs.forEach( function(input, index) {\r\n            var prefix = ', ';\r\n            if (params === '') {\r\n                prefix = '';\r\n            }\r\n            params = params + prefix + getParamName(input.name, index);\r\n        })\r\n    } \r\n    return params;\r\n}\r\n\r\nfunction getReturnType(item) {\r\n    if (item.outputs !== null && item.outputs.length === 1) {\r\n        return getTypeMap(item.outputs[0].type);\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction getTypeMap(typeName) {\r\n    var indexFirstBracket = typeName.indexOf('[');\r\n    if (indexFirstBracket > -1) {\r\n        var elementTypeName = typeName.substring(0, indexFirstBracket);\r\n        return getTypeMap(elementTypeName) + '[]';\r\n    }\r\n\r\n    if ('bool' === typeName) {\r\n        return typeName;\r\n    }\r\n\r\n    if (typeName.startsWith('int')) {\r\n        // default\r\n        if (typeName.length === 3) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        var length = parseInt(typeName.substring(3));\r\n        \r\n        if (length > 64) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        if (length <= 64 && length > 32) {\r\n            return 'long';\r\n        }\r\n\r\n        // ints are in 8 bits\r\n        if (length === 32 ) {\r\n            return 'int';\r\n        }\r\n\r\n        if (length === 16 ) {\r\n            return 'short';\r\n        }\r\n\r\n        if (length === 8 ) {\r\n            return 'sbyte';\r\n        }\r\n    }\r\n\r\n    if (typeName.startsWith('uint')) {\r\n       \r\n        if (typeName.length === 4) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        var length = parseInt(typeName.substring(4));\r\n        \r\n        if (length > 64) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        if (length <= 64 && length > 32) {\r\n            return 'ulong';\r\n        }\r\n        \r\n        // uints are in 8 bits steps\r\n        if (length === 32 ) {\r\n            return 'int';\r\n        }\r\n\r\n        if (length === 16 ) {\r\n            return 'short';\r\n        }\r\n\r\n        if (length === 8 ) {\r\n            return 'byte';\r\n        }\r\n    }\r\n\r\n    if (typeName === 'address') {\r\n        return 'string';\r\n    }\r\n\r\n    if (typeName === 'string') {\r\n        return 'string';\r\n    }\r\n\r\n    if (typeName === 'bytes') {\r\n        return 'byte[]';\r\n    }\r\n\r\n    // if (typeName === 'bytes32') {\r\n    //     return 'string';\r\n    // }\r\n\r\n    if (typeName.startsWith('bytes')) {\r\n        return 'byte[]';\r\n    }\r\n}\r\n\r\n_%>\r\n<%_ function generateGetFunction(item) { _%>\r\n    <%_ if (item.type === 'function') { _%>\r\n        private Function GetFunction<%= capitalizeFirstLetter(item.name) %>()\r\n        {\r\n            return _contract.GetFunction(\"<%=item.name%>\");\r\n        }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateGetEvent(item) { _%>\r\n    <%_ if (item.type === 'event') { _%>\r\n        <%_ var eventName = capitalizeFirstLetter(item.name); _%>\r\n        public Event<<%=eventName%>> Get<%=eventName%>()\r\n        {\r\n            return _contract.GetEvent<<%=eventName%>>(\"<%=item.name%>\");\r\n        }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCall_Original(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length === 1)) { _%>\r\n        public Task<%- getGenericReturnType(item) -%> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>)\r\n        {\r\n            var function = GetFunction<%=capitalizeFirstLetter(item.name)%>();\r\n            return function.CallAsync<%- getGenericReturnType(item) -%>(<%- generateFunctionParameters(item) -%>);\r\n        }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCall(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length === 1)) { _%>\r\n        public Task<%- getGenericReturnType(item) -%> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>)\r\n        {\r\n            var function = GetFunction<%=capitalizeFirstLetter(item.name)%>();\r\n            return function.CallAsync<%- getGenericReturnType(item) -%>(<%- generateFunctionParameters(item) -%>);\r\n        }\r\n\r\n        public async Task<%- getGenericReturnType(item) -%> <%= capitalizeFirstLetter(item.name) %>CallAsync(string addressFrom, <%- generateFunctionTransactionInputParameters(item) -%> HexBigInteger gas = null, HexBigInteger valueAmount = null)\r\n        {\r\n            var function = GetFunction<%=capitalizeFirstLetter(item.name)%>();\r\n\r\n            if (gas == null)\r\n            {\r\n                BigInteger estimatedGas = await function.EstimateGasAsync(addressFrom, gas, valueAmount<%- generateFunctionParametersCommaPrefix(item) -%>).ConfigureAwait(false);\r\n                gas = new HexBigInteger(estimatedGas);\r\n            }\r\n\r\n            return await function.CallAsync<%- getGenericReturnType(item) -%>(addressFrom, gas, valueAmount<%- generateFunctionParametersCommaPrefix(item) -%>).ConfigureAwait(false);\r\n        }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCallMultipleOutputsDTO_Original(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length > 1)) { _%>\r\n        public Task<<%- capitalizeFirstLetter(item.name)  -%>> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>)\r\n        {\r\n            var function = GetFunction<%=capitalizeFirstLetter(item.name)%>();\r\n            return function.CallDeserializingToObjectAsync<<%- capitalizeFirstLetter(item.name) -%>>(<%- generateFunctionParameters(item) -%>);\r\n        }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCallMultipleOutputsDTO(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length > 1)) { _%>\r\n        public Task<<%- capitalizeFirstLetter(item.name)  -%>> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>)\r\n        {\r\n            var function = GetFunction<%=capitalizeFirstLetter(item.name)%>();\r\n            return function.CallDeserializingToObjectAsync<<%- capitalizeFirstLetter(item.name) -%>>(<%- generateFunctionParameters(item) -%>);\r\n        }\r\n\r\n        public async Task<<%- capitalizeFirstLetter(item.name)  -%>> <%= capitalizeFirstLetter(item.name) %>CallAsync(string addressFrom, <%- generateFunctionTransactionInputParameters(item) -%>  HexBigInteger gas = null, HexBigInteger valueAmount = null)\r\n        {\r\n            var function = GetFunction<%=capitalizeFirstLetter(item.name)%>();\r\n\r\n            if (gas == null)\r\n            {\r\n                BigInteger estimatedGas = await function.EstimateGasAsync(addressFrom, gas, valueAmount<%- generateFunctionParametersCommaPrefix(item) -%>).ConfigureAwait(false);\r\n                gas = new HexBigInteger(estimatedGas);\r\n            }\r\n\r\n            return await function.CallDeserializingToObjectAsync<<%- capitalizeFirstLetter(item.name) -%>>(addressFrom, gas, valueAmount<%- generateFunctionParametersCommaPrefix(item) -%>).ConfigureAwait(false);\r\n        }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionTransaction(item) { _%>\r\n    <%_ if (item.type === 'function' && item.constant === false) { _%>\r\n        public async Task<string> <%= capitalizeFirstLetter(item.name) %>Async(string addressFrom, <%- generateFunctionTransactionInputParameters(item) -%> HexBigInteger gas = null, HexBigInteger valueAmount = null)\r\n        {\r\n            var function = GetFunction<%=capitalizeFirstLetter(item.name)%>();\r\n\r\n            if (gas == null)\r\n            {\r\n                BigInteger estimatedGas = await function.EstimateGasAsync(addressFrom, gas, valueAmount<%- generateFunctionParametersCommaPrefix(item) -%>).ConfigureAwait(false);\r\n                gas = new HexBigInteger(estimatedGas);\r\n            }\r\n\r\n            return await function.SendTransactionAsync(addressFrom, gas, valueAmount<%- generateFunctionParametersCommaPrefix(item) -%>).ConfigureAwait(false);\r\n        }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionOutputDTOProperty(param, index) { _%>\r\n        [Parameter(\"<%=param.type%>\", \"<%=param.name%>\", <%=index + 1%>)]\r\n        public <%-getTypeMap(param.type)-%> <%-capitalizeFirstLetter(getParamName(param.name, index))-%> { get; set; }\r\n\r\n<%_ }\r\n_%>\r\n<%_ function generateEventDTOProperty(param, index) { _%>\r\n        [Parameter(\"<%=param.type%>\", \"<%=param.name%>\", <%=index + 1%>, <%= param.indexed ? 'true' : 'false'%>)]\r\n        public <%-getTypeMap(param.type)-%> <%-capitalizeFirstLetter(getParamName(param.name, index))-%> { get; set; }\r\n\r\n<%_ }\r\n_%>\r\n<%_ function generateFunctionOutputDTO(item) { _%>\r\n    <%_ if (item.type === 'function' && item.outputs !== null && item.outputs.length > 1 ) { _%>\r\n    [FunctionOutput]\r\n    public class <%=capitalizeFirstLetter(item.name)%>\r\n    {\r\n<%- item.outputs.forEach(generateFunctionOutputDTOProperty) -%>\r\n    }\r\n\r\n<%_ } }\r\n_%>\r\n<%_ function generateEventDTO(item) { _%>\r\n    <%_ if (item.type === 'event' && item.inputs !== null && item.inputs.length > 1 ) { _%>\r\n    <%_ var eventName = capitalizeFirstLetter(item.name); _%>\r\n    [Event(\"<%=eventName%>\")]\r\n    public class <%=eventName%> : IEventDTO\r\n    {\r\n<%- item.inputs.forEach(generateEventDTOProperty) -%>\r\n    }\r\n\r\n<%_ } }\r\n_%>"),L="using System;\r\nusing System.Numerics;\r\nusing System.Threading.Tasks;\r\nusing Nethereum.Contracts;\r\nusing Nethereum.Hex.HexTypes;\r\nusing Nethereum.RPC.Eth.DTOs;\r\n\r\n// Created with 'Nethereum-CodeGenerator' https://github.com/StefH/Nethereum-CodeGenerator by stef.heyenrath@mstack.nl (mStack B.V.)\r\n// Based on abi-code-gen (https://github.com/Nethereum/abi-code-gen)\r\nnamespace <%= locals.namespace ? namespace : 'DefaultNamespace' %>\r\n{\r\n    public interface I<%= capitalizeFirstLetter(getContractName()) %>Service\r\n    {\r\n        Task<TransactionReceipt> ExecuteTransactionAsync(Func<I<%= capitalizeFirstLetter(getContractName()) %>Service, Task<string>> func, int timeoutInSeconds = 120);\r\n\r\n        Task<BlockWithTransactions> GetBlockWithTransactionsAsync(string blockhash);\r\n\r\n<%#= abi.forEach(generateGetFunction) %>\r\n<%= abi.forEach(generateGetEvent) %>\r\n<%= abi.forEach(generateFunctionCall) %>\r\n<%= abi.forEach(generateFunctionTransaction) %>\r\n<%= abi.forEach(generateFunctionCallMultipleOutputsDTO) %>\r\n    }\r\n}\r\n<%_\r\nfunction getContractName() {\r\n   return locals._contractName ? locals._contractName : 'DefaultContractName';\r\n}\r\n\r\nfunction capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction abiToText(abi) {\r\n    return JSON.stringify(abi).split('\\\"').join('\\\"\\\"');\r\n}\r\n\r\nfunction getGenericReturnType(item) {\r\n    var returnType = getReturnType(item);\r\n    return item === null ? '' : '<' + returnType + '>';\r\n}\r\n\r\nfunction generateFunctionInputParameters(item) {\r\n    var params = '';\r\n    if (item.inputs !== null && item.inputs.length > 0) {\r\n        \r\n        item.inputs.forEach(function(input, index) {\r\n            var prefix = ', ';\r\n            if (params === '') {\r\n                prefix = '';\r\n            }\r\n            params = params + prefix + getTypeMap(input.type) + ' ' + getParamName(input.name, index);\r\n        })\r\n    }\r\n    return params;\r\n}\r\n\r\nfunction getParamName(param, index) {\r\n    if (param !== '') {\r\n        return param;\r\n    }\r\n\r\n    switch (index) {\r\n        case 0:\r\n            return 'a';\r\n        case 1:\r\n            return 'b';\r\n        case 2:\r\n            return 'c';\r\n        case 3:\r\n            return 'd';\r\n        case 4:\r\n            return 'e';\r\n        case 5:\r\n            return 'f';\r\n        case 6:\r\n            return 'g';\r\n    }\r\n    return 'h';\r\n}\r\n\r\nfunction generateFunctionTransactionInputParameters(item) {\r\n    var params = generateFunctionInputParameters(item);\r\n\r\n    return params !== '' ? params + ',' : params;\r\n}\r\n\r\nfunction generateConstructorInputParameters(abi) {\r\n    var ret = '';\r\n    abi.forEach(function(item) {\r\n        if (item.type === 'constructor') {\r\n            ret = generateFunctionTransactionInputParameters(item);\r\n        }\r\n    });\r\n    return ret;\r\n}\r\n\r\nfunction generateConstructorParameters(abi) {\r\n    var ret = '';\r\n    abi.forEach( function(item) {\r\n        if (item.type === 'constructor') {\r\n            ret = generateFunctionParametersCommaPrefix(item);\r\n        }\r\n    });\r\n    return ret;\r\n}\r\n\r\nfunction generateFunctionParametersCommaPrefix(item) {\r\n    var ret = generateFunctionParameters(item);\r\n    return ret !== '' ? ', ' + ret : ret;\r\n}\r\n\r\nfunction generateFunctionParameters(item) {\r\n    var params = '';\r\n    if (item.inputs !== null && item.inputs.length > 0) {\r\n        \r\n        item.inputs.forEach( function(input, index) {\r\n            var prefix = ', ';\r\n            if (params === '') {\r\n                prefix = '';\r\n            }\r\n            params = params + prefix + getParamName(input.name, index);\r\n        })\r\n    } \r\n    return params;\r\n}\r\n\r\nfunction getReturnType(item) {\r\n    if (item.outputs !== null && item.outputs.length === 1) {\r\n        return getTypeMap(item.outputs[0].type);\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction getTypeMap(typeName) {\r\n    var indexFirstBracket = typeName.indexOf('[');\r\n    if (indexFirstBracket > -1) {\r\n        var elementTypeName = typeName.substring(0, indexFirstBracket);\r\n        return getTypeMap(elementTypeName) + '[]';\r\n    }\r\n\r\n    if ('bool' === typeName) {\r\n        return typeName;\r\n    }\r\n\r\n    if (typeName.startsWith('int')) {\r\n        // default\r\n        if (typeName.length === 3) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        var length = parseInt(typeName.substring(3));\r\n        \r\n        if (length > 64) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        if (length <= 64 && length > 32) {\r\n            return 'long';\r\n        }\r\n\r\n        // ints are in 8 bits\r\n        if (length === 32 ) {\r\n            return 'int';\r\n        }\r\n\r\n        if (length === 16 ) {\r\n            return 'short';\r\n        }\r\n\r\n        if (length === 8 ) {\r\n            return 'sbyte';\r\n        }\r\n    }\r\n\r\n    if (typeName.startsWith('uint')) {\r\n       \r\n        if (typeName.length === 4) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        var length = parseInt(typeName.substring(4));\r\n        \r\n        if (length > 64) {\r\n            return 'BigInteger';\r\n        }\r\n\r\n        if (length <= 64 && length > 32) {\r\n            return 'ulong';\r\n        }\r\n        \r\n        // uints are in 8 bits steps\r\n        if (length === 32 ) {\r\n            return 'int';\r\n        }\r\n\r\n        if (length === 16 ) {\r\n            return 'short';\r\n        }\r\n\r\n        if (length === 8 ) {\r\n            return 'byte';\r\n        }\r\n    }\r\n\r\n    if (typeName === 'address') {\r\n        return 'string';\r\n    }\r\n\r\n    if (typeName === 'string') {\r\n        return 'string';\r\n    }\r\n\r\n    if (typeName === 'bytes') {\r\n        return 'byte[]';\r\n    }\r\n\r\n    // if (typeName === 'bytes32') {\r\n    //     return 'string';\r\n    // }\r\n\r\n    if (typeName.startsWith('bytes')) {\r\n        return 'byte[]';\r\n    }\r\n}\r\n\r\n_%>\r\n<%_ function generateGetFunction(item) { _%>\r\n    <%_ if (item.type === 'function') { _%>\r\n        Function GetFunction<%= capitalizeFirstLetter(item.name) %>();\r\n<%_ } }\r\n_%>\r\n<%_ function generateGetEvent(item) { _%>\r\n    <%_ if (item.type === 'event') { _%>\r\n        <%_ var eventName = capitalizeFirstLetter(item.name); _%>\r\n        Event<<%=eventName%>> Get<%=eventName%>();\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCall_Original(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length === 1)) { _%>\r\n        Task<%- getGenericReturnType(item) -%> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>);\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCall(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length === 1)) { _%>\r\n        Task<%- getGenericReturnType(item) -%> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>);\r\n        Task<%- getGenericReturnType(item) -%> <%= capitalizeFirstLetter(item.name) %>CallAsync(string addressFrom, <%- generateFunctionTransactionInputParameters(item) -%> HexBigInteger gas = null, HexBigInteger valueAmount = null);\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCallMultipleOutputsDTO_Original(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length > 1)) { _%>\r\n        Task<<%- capitalizeFirstLetter(item.name) -%>> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>);\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionCallMultipleOutputsDTO(item) { _%>\r\n    <%_ if (item.type === 'function' && (item.outputs !== null && item.outputs.length > 1)) { _%>\r\n        Task<<%- capitalizeFirstLetter(item.name) -%>> <%= capitalizeFirstLetter(item.name) %>CallAsync(<%- generateFunctionInputParameters(item) -%>);\r\n        Task<<%- capitalizeFirstLetter(item.name) -%>> <%= capitalizeFirstLetter(item.name) %>CallAsync(string addressFrom, <%- generateFunctionTransactionInputParameters(item) -%> HexBigInteger gas = null, HexBigInteger valueAmount = null);\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionTransaction(item) { _%>\r\n    <%_ if (item.type === 'function' && item.constant === false) { _%>\r\n        Task<string> <%= capitalizeFirstLetter(item.name) %>Async(string addressFrom, <%- generateFunctionTransactionInputParameters(item) -%> HexBigInteger gas = null, HexBigInteger valueAmount = null);\r\n<%_ } }\r\n_%>\r\n<%_ function generateFunctionOutputDTOProperty(param, index) { _%>\r\n        [Parameter(\"<%=param.type%>\", \"<%=param.name%>\", <%=index + 1%>)]\r\n        public <%-getTypeMap(param.type)-%> <%-capitalizeFirstLetter(getParamName(param.name, index))-%> {get; set;}\r\n\r\n<%_ }\r\n_%>\r\n<%_ function generateFunctionOutputDTO(item) { _%>\r\n    <%_ if (item.type === 'function' && item.outputs !== null && item.outputs.length > 1 ) { _%>\r\n    [FunctionOutput]\r\n    public class <%=capitalizeFirstLetter(item.name)%> \r\n    {\r\n<%- item.outputs.forEach(generateFunctionOutputDTOProperty) -%>\r\n    }\r\n<%_ } }\r\n_%>\r\n_%>";const D=n("df7c");class z{static sanitizeFilename(e){return D.basename(e).replace(".sol","")}}var E=z;const B=n("d491"),R=n("a440");class q{constructor(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.mainContract=e,this.otherContracts=t,this.preferredNamespace=n,this.generateAllInterfacesAndImplementations=r,this.combineContracts=a,this.combinedContractContent="",this.generatedService={},this.generatedInterface={}}static getVersions(){return Object(k["a"])(function*(){const e=yield R.versions();return e.releases})()}generate(e){var t=this;return Object(k["a"])(function*(){console.log(`Generate using compiler ${e}`);const n=yield R(e);console.log(`Compiling contracts with solc version '${n.version.name}'`);const r=yield n(t.mainContract.content,function(){var e=Object(k["a"])(function*(e){const n=E.sanitizeFilename(e);console.log(`Resolving contract '${e}' (${n})`);const r=t.otherContracts[n]||"ERROR !!!";return t.combineContracts&&(t.combinedContractContent=`${t.combinedContractContent}${t.stripContractContent(r)}`),r});return function(t){return e.apply(this,arguments)}}());return t.generateAllInterfacesAndImplementations?r.forEach(e=>{t.generateFilesForContract(e)}):t.generateFilesForContract(r[0]),{generatedService:t.generatedService,generatedInterface:t.generatedInterface}})()}generateContractService(e,t,n,r){const a={_contractName:e,abi:JSON.parse(n),bytecode:r,namespace:t};console.log(`${e}: generate C# interface(s)`);const i=B.compile(L);this.generatedInterface[e]=i(a),console.log(`${e}: generate C# implementation(s)`);const s=B.compile(S);this.generatedService[e]=s(a)}generateFilesForContract(e){const t=e.name,n=JSON.stringify(e.abi),r=e.binary.bytecodes.bytecode,a=this.preferredNamespace.endsWith("***")?this.preferredNamespace.replace("***",t):this.preferredNamespace;this.generateContractService(t,a,n,r)}stripContractContent(e,t){const n=e.split("\r\n");for(let r=0;r<n.length;r+=1)n[r].startsWith("pragma solidity")&&(t||(n[r]="")),n[r].startsWith("import")&&(n[r]=""),n[r].startsWith("contract")&&(n[r]=t?`contract ${t} {`:`// ${n[r]}`);return n[n.length-1]="",n.join("\r\n")}}var j=q,M={name:"Generate",computed:{downloadInterfaceDisabled(){return this.busy||0===this.generatedInterfaceText.length},downloadServiceDisabled(){return this.busy||0===this.generatedServiceText.length}},data(){return{busy:!1,errorMesssage:"",contract:{},contracts:{},selectCompilers:[],selectedCompiler:"v0.5.2-stable-2018.12.19",generatedServiceText:"",generatedInterfaceText:"",namespace:"DefaultNamespace"}},mounted(){var e=this;return Object(k["a"])(function*(){const t=yield j.getVersions();e.selectCompilers=t.map(e=>({label:e,value:e}))})()},methods:{clearGeneratedFields(){this.errorMesssage="",this.generatedServiceText="",this.generatedInterfaceText=""},generateCode(){var e=this;return Object(k["a"])(function*(){try{const n=new j(e.contract,e.contracts,e.namespace);e.clearGeneratedFields(),e.busy=!0;const r=yield n.generate(e.selectedCompiler);e.generatedInterfaceText=r.generatedInterface[e.contract.name],e.generatedServiceText=r.generatedService[e.contract.name],e.$refs.uploaderMain.reset(),e.$refs.uploaderOther.reset()}catch(t){e.errorMesssage=t,console.log(t)}finally{e.busy=!1}})()},uploadMainContract(e){var t=this;return new Promise((n,r)=>{const a=new FileReader;a.onloadend=function(){var r=Object(k["a"])(function*(r){const a=r.target.result;t.contract={filename:e.name,name:E.sanitizeFilename(e.name),content:a},console.log("uploadMainContract done"),console.log(`Loading ${t.$refs.uploaderOther.files.length} extra files`),0===t.$refs.uploaderOther.files.length&&(yield t.generateCode()),n()});return function(e){return r.apply(this,arguments)}}(),a.onerror=(e=>{r(e)}),a.readAsText(e)})},uploadContracts(e){var t=this;return new Promise((n,r)=>{const a=new FileReader;a.onloadend=function(){var r=Object(k["a"])(function*(r){const a=r.target.result;t.contracts[E.sanitizeFilename(e.name)]=a,console.log(`Other contract ${e.name} is read`),n()});return function(e){return r.apply(this,arguments)}}(),a.onerror=(e=>{r(e)}),a.readAsText(e)})},uploadContractsFinish(){var e=this;return Object(k["a"])(function*(){yield e.generateCode()})()},OnClickGenerate(){var e=this;return Object(k["a"])(function*(){e.contract={},e.contracts={},e.$refs.uploaderMain.upload(),e.$refs.uploaderOther.upload()})()},DownloadInterface(){const e=new File([this.generatedInterfaceText],`${this.contract.name}Service.cs`,{type:"text/plain;charset=utf-8"});Object(G["saveAs"])(e)},DownloadService(){const e=new File([this.generatedServiceText],`I${this.contract.name}Interface.cs`,{type:"text/plain;charset=utf-8"});Object(G["saveAs"])(e)}}},$=M,H=(n("0b48"),Object(s["a"])($,P,A,!1,null,null,null)),U=H.exports;r["a"].use(l["a"]);var W=new l["a"]({routes:[{path:"/",component:b,children:[{path:"",name:"home",component:F},{path:"/about",name:"about",component:N},{path:"/generate",name:"generate",component:U}]}]}),J=n("8103"),V=n.n(J),Y=n("bba4"),X=n.n(Y),Q=(n("a4ac"),n("4a91"),n("2826"),n("7e57"),n("38aa"),n("a7c6")),K=n.n(Q);r["a"].prototype.$appName="Nethereum Code Generator",r["a"].use(g["a"],{config:{}}),r["a"].use(K.a);const Z=n("97a0");Z.keys().forEach(e=>{const t=Z(e),n=V()(X()(e.replace(/^\.\/_/,"").replace(/\.\w+$/,"")));console.log(`Globally register the component: ${n}`),r["a"].component(n,t.default||t)}),r["a"].component("button-counter",{data(){return{count:0}},template:'<button v-on:click="count++">You clicked me {{ count }} times.</button>'}),r["a"].config.productionTip=!1,new r["a"]({beforeCreate(){console.log(this.$appName)},router:W,mixins:[K.a.mixin],render:e=>e(u)}).$mount("#app")},"97a0":function(e,t,n){var r={"./HelloWorld.vue":"fdab"};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="97a0"},"97cb":function(e,t,n){var r={"./bounce.css":"3d49","./bounceIn.css":"0a58","./bounceInDown.css":"a4a9","./bounceInLeft.css":"5965","./bounceInRight.css":"da80","./bounceInUp.css":"b60e","./bounceOut.css":"f39d","./bounceOutDown.css":"a9b5","./bounceOutLeft.css":"06dd","./bounceOutRight.css":"66bc","./bounceOutUp.css":"908f","./fadeIn.css":"1070","./fadeInDown.css":"1625","./fadeInDownBig.css":"9338","./fadeInLeft.css":"0c2e","./fadeInLeftBig.css":"f357","./fadeInRight.css":"ef8f","./fadeInRightBig.css":"747a","./fadeInUp.css":"e7fb","./fadeInUpBig.css":"b8af","./fadeOut.css":"25cd","./fadeOutDown.css":"93ea","./fadeOutDownBig.css":"c888","./fadeOutLeft.css":"5f1d","./fadeOutLeftBig.css":"a555","./fadeOutRight.css":"8934","./fadeOutRightBig.css":"9438","./fadeOutUp.css":"351b","./fadeOutUpBig.css":"23a5","./flash.css":"58a5","./flip.css":"bda0","./flipInX.css":"58b8","./flipInY.css":"5902","./flipOutX.css":"72c5","./flipOutY.css":"b8ad","./headShake.css":"2289","./hinge.css":"085e","./jello.css":"8014","./lightSpeedIn.css":"eb7d","./lightSpeedOut.css":"d043","./pulse.css":"ab98","./rollIn.css":"dc73","./rollOut.css":"592c","./rotateIn.css":"487d","./rotateInDownLeft.css":"bf6b","./rotateInDownRight.css":"7b96","./rotateInUpLeft.css":"89f8","./rotateInUpRight.css":"cb8c","./rotateOut.css":"de65","./rotateOutDownLeft.css":"8134","./rotateOutDownRight.css":"1ea7","./rotateOutUpLeft.css":"63d1","./rotateOutUpRight.css":"fcc3","./rubberBand.css":"aab2","./shake.css":"15f1","./slideInDown.css":"79ea","./slideInLeft.css":"a963","./slideInRight.css":"3b76","./slideInUp.css":"21e3","./slideOutDown.css":"abed","./slideOutLeft.css":"f857","./slideOutRight.css":"0a43","./slideOutUp.css":"5706","./swing.css":"b968","./tada.css":"3391","./wobble.css":"ed5b","./zoomIn.css":"38f3","./zoomInDown.css":"2577","./zoomInLeft.css":"1992","./zoomInRight.css":"ef68","./zoomInUp.css":"97a1","./zoomOut.css":"cc15","./zoomOutDown.css":"2ac6","./zoomOutLeft.css":"1fd4","./zoomOutRight.css":"fa2f","./zoomOutUp.css":"91e5"};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="97cb"},a4ac:function(e,t,n){},de21:function(e,t,n){},fdab:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h4",[e._v(e._s(e.msg))]),n("h4",[e._v(e._s(e.level))]),n("h4",[e._v(e._s(e.x))])])},a=[],i={name:"hello-world",props:{msg:String,level:Number},computed:{x(){return`test : ${this.msg}_${this.level}`}}},s=i,c=(n("241d"),n("2877")),o=Object(c["a"])(s,r,a,!1,null,"2189169e",null);t["default"]=o.exports}});
//# sourceMappingURL=app.60f6d603.js.map